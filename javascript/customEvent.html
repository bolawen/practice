<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>自定义事件</title>
  </head>
  <body>
    <div id="div">自定义事件</div>
    <!-- <script>
      // 定义 lazy 事件
      const customEvent = new Event('lazy');

      const divDom = document.querySelector('#div');

      // 监听 lazy 事件
      divDom.addEventListener('lazy', function (e) {
        console.log('e', e);
      });

      // 触发 lazy 事件
      setTimeout(() => {
        divDom.dispatchEvent(customEvent);
      }, 3000);
    </script> -->
    <script>
      const divDom = document.querySelector('#div');
      // 监听 尚未创建 的事件
      divDom.addEventListener('lazy', function (e) {
        console.log('e', e);
      });

      // 动态创建、派发 lazy 事件
      setTimeout(() => {
        divDom.dispatchEvent(
          new CustomEvent('lazy', {
            detail: {
              a: 1,
              b: 2
            }
          })
        );
      }, 3000);
    </script>
    <!-- <script>
      // 创建 Event 对象
      const customEvent = document.createEvent('Event');
      // 定义 lazy 事件
      customEvent.initEvent('lazy', true, true);

      const divDom = document.querySelector('#div');
      // 监听 lazy 事件
      divDom.addEventListener('lazy', function (e) {
        console.log('e', e);
      });

      // 触发 lazy 事件
      setTimeout(() => {
        divDom.dispatchEvent(customEvent);
      }, 3000);
    </script> -->
  </body>
</html>
